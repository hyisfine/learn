> 自我介绍
>
> 你好，我叫叶鹏程， 2017年毕业于西华师范大学信息与计算科学，目前所在的公司是北京顺势为快科技有限公司，是以vr影视内容输出的初创。我主要负责公司管理后台、用户小程序商家小程序，以及公司组件库的维护和开发，技术栈使用react+ts。同时临时用golang开发过一个微信中控平台，为此了解过一些后端开发。

> 技术选型，taro、react、typescript。考虑：公司原先主要是以react为技术栈、本身比较熟悉react、需要支持项目跨端展示、多人协作合作，选择加入ts减少项目运行时的错误和信息不对等导致的时间浪费。
>
> 为什么使用taro而不是remax：都是基于 react的多端开发工具，都底层重新实现了dom api。可以完全使用react语法，但是taro3不再依赖react，可以支持vue或类react得框架。trao基于微信的模版组件进行递归渲染页面，所以当通用组件增多，项目的体积是固定的，remax
>
> 组件库。基于公司业务和ui的风格，全局的页面pagewrapper组件、开发出了可以配置字体样式和元素宽高以及margin  padding的高阶组件、关闭小程序滚动实现自己的滚动组件、具有防抖功能的点击组件、统一风格的按钮组件、以flex布局为基础的col、row组件、全局弹框组 件。 taro3基于微信小程序模版组件递归构建页面，所以封装好之后，模版的数量是固定，好
>
> 为什么使用高阶组件？类型tailwind的全局样式(没有语法提示)、属性间的搭配不够灵活、单独写个字体组件不够灵活，无法满足其他组件也需要应用样式的情况。加上微信的组件分为view-cover-viwe、text、一斤button，切每个都有必须使用的原因，所以到处提出来。全局组件类似antd 的model。info的调用方式，基于路由路径对比和一个订阅发布函数实现的。参考了trao-ui。
>
> featch hook封装。将需要请求的函数通过usecallback包裹传递给fetch hook，在内部根据使用以请求函数为useEffect的依赖，请求函数。以此形成了通过函数参数变化响应数据请求的过程。loading、data等数据以reducer hook保存，在请求哥哥阶段更改数据，请求的取消、刷新和自定义数据的函数通过use ref存储。实现取消？请求时执行的函数传递一个key，请求数据之后比对传入的key和当前state对象上的key比较。优点，符合公司已有的代码风格和业务代码、可自定义数据、代码量少。不足，每次刷新都会产生一个hook对象。
>
> 遇到什么问题？优雅的处理tab快速切换时的数据错误问题，一开始是将数据请求和tab view绑定在一起，代码比较杂乱。然后想到调用request取消，但是不够灵活。最后是通过封装了fetch之后，每次请求产生位移的key，并传入fetch函数，在赋值对比当前的key和传入的key是否通用，保证了数据每次都是最新的请求数据。请求list时 ，会等待上次接口调用完成才重新请求。门店也配置问题。二维码兼容问题。集合所有的二维码返回值类型，统一返回的值。需要兼容就项目的二维码，且微信小程序对于pagenotfound、微信扫一扫、微信小程序api扫码返回的值不一样。测试所有的返回值，集中处理最终返回的值，单独设立一个页面来处理扫码中转。生成海报的问题。第三方库技术老，不是ts，重构语法，添加ts类型，测试耗时流程，拆解流程为图片下载、canvas绘制生成图片、用户保存。跳转页面前下载模块图片、拍照后添加用图片元素组成的预览界面，后台绘制canvas并生成图片，最终只需要等待用户保存，时间从4秒缩短到1s以内。
>
> 做过哪些优化？升级taro3，使用函数组件，封装组件，开发环境使用vite，删除多余代码，优化路由避免页面多次打开。
>
> webpack做过哪些优化：配置HardSourceWebpackPlugin缓存依赖库，使用forkts checker分离ts的类型检测和转译。在对babel-loader使用thread-loader，开启babel的缓存，开启terser和mini css的缓存。配置split chunk 分割依赖包。自己封装常用依赖库比如i18n，usefetch 、响应式栏栅样式等
>
> 印象最深：新的小程序项目，有自己一手搭建并完成主要功能和组件库。为什么自己写fetch hook，react-query的功能太多，但并不需要，ali的userequest同样依赖于其他的hook，且使用时都不符合项目构建之初继承自1.0的请求方式。将实际的请求方法保存在usecallback中，根据方法所需要的参加进行重新刷新，支持ts类型检测，自动识别返回的类型值，支持刷新、取消、手动触发、以及手动更改数据源。
>
> 拍照生辰海报的优化？减少图片大小、在前一个页面下载图片、用户选择时提前绘制canvas、点击拍照的过程中添加预览功能、并在后台进行图片生成。
>
> vite转为webpack，过程中没有出现太大的问题，只有在添加antd pro的时候，antd 引入less文件时和vite的别名解析产生了冲突，需要更改alias的写法。
>
> 怎么封装了分为header nav bar 和list，给定一个request，将当前的页面的。
>
> 微信中控，集中刷新各个项目需要的微信的token和ticket。使用的是golang，通过配置aws中的是cloud watch派发定时任务到sqs任务队列中，循环获取sqs中的任务，调用微信接口获取最新的token，存入redis中。
>
> 监控系统如何注入。根据数仓的参数要求封装一个监控api，早前通过服务器产生session进行用户身份识别，微信小程序更改登录流程后，以小程序的code为身份识别。手动埋点加 loader埋点的方式。监听pv，uv，click事件等。
>
> 前端规范化：开发流程的规范，规定提交的pr格式、以Trunk-baesd为git开发流程。添加prettier、eslint的代码规范、简单写了个commit脚本校验git commit提交规范、规定项目文件结构和命名规范。
>
> 项目中最复杂的事情：统一二维码扫码入口和兼容旧项目的二维码。需要分别处理微信扫码和扫码api已经pagenot found对普通和小程序二维码返回不同的值，同时需要兼容处理新老项目路径变化。
>
> 前端新技术：react的类框架solidjs，它编译后直接采用原声dom操作数据，编译时姜味使用的代码删除，其响应式更新采用的是订阅发布模式。pnpm 新一代的包管理器。关联使用符号连接，.pnpm使用硬连接关联全局的pnpm包解决重复依赖问题和幽灵以来。支持memo。美团和阿里的设计稿生成代码， 第代码。web3，vite esbuild现在打包工具库。election、tarui。开发桌面应用，阿里qiankun为前端框架。deno。
>
> 

> ts是js的超集，拥有js的所有语法，同时扩展了自身的能力比如枚举值。ts拥有静态类型检查机制，需要编译后才能运行。编译完后的ts就是js代码了。
>
> Object、object、{}区别：Object是Object类型的结构类型，可以赋予原始值，原始值也可以调用Object的方法.object是ts的结构类型，专门用于描述对象类型，{}与Object类型一样的效果。

> 上下班，加班，技术栈，人员管理，公司福利，加班情况，团建，人员流动，晋升、
>
> 加班情况。加班费用。绩效考核。年终奖怎么算的。保底的年终奖。五险一金的比例。工资组成。房补饭补怎么发放。涨幅。

> webpack优化，react context。immutable。promise。react 跨组件调用。redux、react- redux原理。
>

> 智谱：项目奖、每个月绩效考核、14.6、10天、6个月。调休、每周下午5点。

> 优点：对工作中衍生出的想法和技术又很好的收集和知识扩展。
>
> 缺点：急于求成吧，有时候想到什么就像立刻去做，耽搁了之后就没有当初的热情了 
