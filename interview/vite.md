1. 热更新原理：创建ws连接、监听文件变化、告知客户端变化文件、重新请求或删除文件。
2. 插件。各个时期执行的函数的一个对象。hooks分为异步同步、窜行并行。基于rollup的插件系统。
3. 依赖预构建。根据用户pakage.json、lock文件生成dephash，获取上次的预构建信息进行对比。一样则不构建不一样则重新构建。esbuild扫描文件获取依赖。转化为es module模式、构建完之后存入cachedir。请求资源时判断请求路径是否为缓存路径，是则更改路径、遇到新的依赖则重新构建。
3. server流程。参数解析、创建http服务、创建文件监听。
5. 为什么仍然需要打包
    1. 不打包的话增加http请求，效率低下。打包可以进行tree shaking，懒加载，模块合并，优化请求往返和打包体积。
    2. esbuild在构建方面还不够完善，特别是特别是代码分割和 CSS 处理方面。

